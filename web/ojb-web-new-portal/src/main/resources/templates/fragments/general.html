<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="headerfiles">
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/4.1.3/css/bootstrap.min.css}" />
  <link rel="stylesheet" type="text/css" th:href="@{/webjars/datatables/1.10.19/css/dataTables.bootstrap4.min.css}" />
  <link rel="stylesheet" type="text/css" th:href="@{/webjars/font-awesome/5.2.0/css/all.css}" />
  <link href="https://cdn.jsdelivr.net/npm/gijgo@1.9.10/css/gijgo.min.css" rel="stylesheet" type="text/css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.min.css" rel="stylesheet" type="text/css" />
  <!-- <link href="https://cdn.datatables.net/fixedcolumns/3.2.6/css/fixedColumns.dataTables.min.css" rel="stylesheet" type="text/css" />
 -->
	<link rel="stylesheet" th:href="@{/css/style.css}" href="../../css/style.css" />
</head>
<body>
	    <header th:fragment="header">
	      <!-- Fixed navbar -->
	      <nav class="navbar navbar-expand-md navbar-light fixed-top bg-light">
	        <a class="navbar-brand" href="#"><img th:src="@{/images/search.png}" height="50px"/></a>
	        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
	          <span class="navbar-toggler-icon"></span>
	        </button>
	        <div class="collapse navbar-collapse" id="navbarCollapse">
	          <ul class="navbar-nav mr-auto">
	            <li class="nav-item active">
	              <a class="nav-link" th:href="@{/}" id="home">Home <span class="sr-only">(current)</span></a>
	            </li>
	            <li class="nav-item dropdown">
	              <a class="nav-link dropdown-toggle" href="https://example.com" id="dropdown09" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Tools</a>
	              <div class="dropdown-menu" aria-labelledby="dropdown09">
	                <a class="dropdown-item" href="#" id="arrest">Municipal Arrests</a>
	                <a class="dropdown-item" href="#" id="disposition">Deferred Dispositions</a>
	              </div>
	            </li>
	            <li class="nav-item">
	              <a class="nav-link disabled" href="#">Disabled</a>
	            </li>
	            <li class="nav-item dropdown">
	              <a class="nav-link dropdown-toggle" href="https://example.com" id="dropdown09" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown</a>
	              <div class="dropdown-menu" aria-labelledby="dropdown09">
	                <a class="dropdown-item" href="#">Action</a>
	                <a class="dropdown-item" href="#">Another action</a>
	                <a class="dropdown-item" href="#">Something else here</a>
	              </div>
	            </li>
	          </ul>
	        </div>
	      </nav>
	    </header>
    <p>Go to the next page to see fragments in action</p>
    <footer class="footer" th:fragment="footer">
      <div class="container">
        <span class="text-muted">Place sticky footer content here.</span>
      </div>
    </footer>
    
    <div th:fragment="javascripts">
   	    <!-- Optional JavaScript -->
	    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
			<script th:src="@{/webjars/jquery/3.3.1/jquery.min.js}"></script>
			<script th:src="@{/webjars/popper.js/1.14.3/umd/popper.min.js}"></script>
		  <script type="text/javascript" th:src="@{/webjars/bootstrap/4.1.3/js/bootstrap.min.js}"></script>
		  <script type="text/javascript" th:src="@{/webjars/datatables/1.10.19/js/jquery.dataTables.min.js}"></script>
	    <script type="text/javascript" th:src="@{/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js}"></script>
	    <script type="text/javascript" th:src="@{/webjars/font-awesome/5.2.0/js/all.js}"></script>
	    <script src="https://cdn.jsdelivr.net/npm/gijgo@1.9.10/js/gijgo.min.js" type="text/javascript"></script>
		  <script type="text/javascript" th:src="@{/js/plugins/jquery.mask.min.js}"></script> 
		  <script type="text/javascript" th:src="@{/js/plugins/bootpopup.js}"></script> 
		  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.jquery.min.js"></script> 
<!-- 		  <script type="text/javascript" src="https://cdn.datatables.net/fixedcolumns/3.2.6/js/dataTables.fixedColumns.min.js"></script> 
 -->		  
		  <script th:inline="javascript">
	      /*<![CDATA[*/
	          var context = [[@{/}]];
	      /*]]>*/
	      $(function(){
	          $('#disposition').click(function() {   
                $(this).parent().toggleClass('show');

	              xhr = $.get(context + 'dispositions', function(data) {
	                 $('#portalContent').html(data); 
	               }).fail(ojbc.displayFailMessage);
	              return false; 
	          });
	          $('#arrest').click(function() {   
                $(this).parent().toggleClass('show');

	              xhr = $.get(context + 'arrests', function(data) {
	                 $('#portalContent').html(data); 
	               }).fail(ojbc.displayFailMessage);
	              return false; 
	          });
	          
 	          $(document).ajaxStart(function(){
	              
              if( $(".modal").is(':visible')){
                var modalDiv = $(".modal");
              
                var loadingDiv =  $("#modalIframeSpinner");
                loadingDiv.height(modalDiv.height());
                loadingDiv.width(modalDiv.width());
	              
                $("#modalIframeSpinner").show();           
	          
              }
              else{
                var loadingDiv =  $("#loadingAjaxPane");
                var portalContentDiv = $("#portalContent");
              
                loadingDiv.height(portalContentDiv.height());
                loadingDiv.width(portalContentDiv.width());
                
                 $("#loadingAjaxPane").show();           
              }               
             }).ajaxStop(function() {
               $("#loadingAjaxPane").hide();                
               $("#modalIframeSpinner").hide();
             });
 	          
	      });
	      
        ojbc = {
	          displayFailMessage : function(jqXHR, textStatus, errorThrown) {
	            if (jqXHR.status == 500) {
	              var errorHeader = "A server-side error occurred while processing your request. Please contact the IT department or try again later.";
	              bootpopup.alert(errorHeader, "Error");   
	            } else if (jqXHR.status == 0) {
	              if (jqXHR.textStatus != "aborted"){
	                window.location.reload();
	              }
	            } else {
	          	  bootpopup.alert("Unable to talk to Server.  Please try again later.", "Error");
	            }
	         }
         };
              

      </script>
		  
	  </div>		
    
</body>
</html>